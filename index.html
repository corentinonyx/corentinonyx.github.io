<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compteur TP FTV</title>
    <link rel="icon" type="image/png" href="images/icon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="app">

        <header id="top_bar">
            <div>
                <p class="style_title">Nombre de personne en plateau:</p>
                <select id="timerSelect">
                    <option value="none">Nombre de personne ?</option>
                    <option value="1">1 personne</option>
                    <option value="2">2 personnes</option>
                    <option value="3">3 personnes</option>
                    <option value="4">4 personnes</option>
                    <option value="5">5 personnes</option>
                    <option value="6">6 personnes</option>
                </select>
            </div>
            <button id="exclusiveToggle" class="toggleButton" aria-pressed="false">
                <span id="exclusiveToggleState" class="toggleState">OFF</span>
                <span class="toggleVisual" aria-hidden="true">
                    <span class="toggleKnob"></span>
                </span>
                <span class="toggleLabel">Un seul timer à la fois</span>
            </button>
        </header>
        
        <main>
            <div class="countersWrapper_general">

                <div class="styte_rank">
                    <div>
                        <p class="style_title">Classement :</p>
                        <table id="deviationTable">
                            <thead>
                                <tr>
                                    <th>Compteur</th>
                                    <th>Temps</th>
                                    <th>Visuel</th>
                                </tr>
                            </thead>
                            <tbody id="rankingBody">
                                <!-- Les lignes seront ajoutées par JavaScript -->
                            </tbody>
                        </table>

                        <!-- Tableau des écarts -->
                        <div class="deviation_section">
                            <p class="style_title">Écarts par intervenant :</p>
                            <table id="deviationTable">
                                <thead>
                                    <tr>
                                        <th>Intervenant</th>
                                        <th>Temps</th>
                                        <th>Écart %</th>
                                    </tr>
                                </thead>
                                <tbody id="deviationBody">
                                    <!-- Les lignes seront ajoutées par JavaScript -->
                                </tbody>
                            </table>
                        </div>

                        <HR color="black" size="1px">
                        
                        <!-- Section Statistiques -->
                        <div class="statistics_section">
                            <p class="style_title">Statistiques d'équité :</p>
                            
                            <!-- Moyenne du temps de parole -->
                            <div class="stat_item">
                                <label class="stat_label">Moyenne temps de parole :</label>
                                <span id="averageTime" class="stat_value">00:00:00.00</span>
                            </div>
                            
                            <!-- Sélecteur de seuil de tolérance -->
                            <div class="stat_item">
                                <label class="stat_label">Seuil de tolérance :</label>
                                <select id="toleranceSelect">
                                    <option value="5">±5 %</option>
                                    <option value="10">±10 %</option>
                                    <option value="15">±15 %</option>
                                    <option value="20">±20 %</option>
                                    <option value="25">±25 %</option>
                                    <option value="30">±30 %</option>
                                </select>
                            </div>
                            
                            <!-- Indicateur global d'équité -->
                            <div class="stat_item">
                                <label class="stat_label">Équité :</label>
                                <span id="equityIndicator" class="equity_indicator">Non déterminé</span>
                            </div>
                            
                            <!-- Signal global de déséquilibre -->
                            <div id="globalAlert" class="global_alert hidden">
                                ⚠️ Déséquilibre détecté !
                            </div>
                        </div>

                        <HR color="black" size="1px">
                            
                        <div>
                            <button id="reset_all_timer">Réinitialiser les timers</button>
                            <button id="email_export">Exporter le récapitulatif</button>
                        </div>
                        
                    </div>
                </div>
        
                <div class="style_timer">
                    <div>
                        <div class="countersWrapper_timer_display">
                            
                            <div id="counter1Container" class="counterContainer">
                                <div id="speakingIndicator1" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput1" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <p id="counter1" class="counterstyle">00:00:00.00</p>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn1">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn1">Stop</button>
                                    <button id="resetBtn1" class="button_hidden">Reset</button>
                                </div>
                            </div>

                            <div id="counter2Container" class="counterContainer">
                                <div id="speakingIndicator2" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput2" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <h1 id="counter2" class="counterstyle">00:00:00.00</h1>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn2">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn2">Stop</button>
                                    <button id="resetBtn2" class="button_hidden">Reset</button>
                                </div>
                            </div>

                            <div id="counter3Container" class="counterContainer">
                                <div id="speakingIndicator3" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput3" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <h1 id="counter3" class="counterstyle">00:00:00.00</h1>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn3">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn3">Stop</button>
                                    <button id="resetBtn3" class="button_hidden">Reset</button>
                                </div>
                            </div>
                        </div>
                        <div class="countersWrapper_timer_display">  
                            <div id="counter4Container" class="counterContainer">
                                <div id="speakingIndicator4" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput4" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <h1 id="counter4" class="counterstyle">00:00:00.00</h1>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn4">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn4">Stop</button>
                                    <button id="resetBtn4" class="button_hidden">Reset</button>
                                </div>
                            </div>
                            <div id="counter5Container" class="counterContainer">
                                <div id="speakingIndicator5" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput5" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <h1 id="counter5" class="counterstyle">00:00:00.00</h1>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn5">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn5">Stop</button>
                                    <button id="resetBtn5" class="button_hidden">Reset</button>
                                </div>
                            </div>
                            <div id="counter6Container" class="counterContainer">
                                <div id="speakingIndicator6" class="speaking_indicator">Moyenne</div>
                                <div class="input_timer_content">
                                    <input type="text" id="nameInput6" placeholder="Entrez un nom">
                                </div>
                                <div class="label_timer_content">
                                    <h1 id="counter6" class="counterstyle">00:00:00.00</h1>
                                </div>
                                <div class="button_timer_content">
                                    <button class="button_play_style" id="playBtn6">Play</button>
                                    <button class="button_timer_style button_hidden" id="stopBtn6">Stop</button>
                                    <button id="resetBtn6" class="button_hidden">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div id="footer_bar_credit">
                <img id="logo" src="images/copyright.jpg" />
                <img id="logo" src="images/logo.png" />
                <p id="logo_label">&copy; 2024 C. Millequand</p>
            </div>
            <div id="footer_bar_tools">
                <select id="resolutionSelect">
                    <option value="none">Default</option>
                    <option value="50">50 %</option>
                    <option value="75">75 %</option>
                    <option value="100">100 %</option>
                    <option value="125">125 %</option>
                </select>
                <p id="label_resolution">Résolution : </p>
            </div>
        </footer>
        
    </div>
    <script src="script.js"></script>
    <script src="resolution.js"></script>
</body>
</html>
